<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Clients Churn Prediction — Case Study</title>
  <meta name="description" content="Predicting customer churn for a telecom using structured data and supervised learning (Logistic Regression, Random Forest, XGBoost). Focus on high recall to flag at-risk customers for retention." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Epilogue:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    :root { --bg:#0c0c0c; --fg:#fff; --muted:#a0a0a0; --accent:#7dd3fc; --border:#2c2c2c; --card:#111; --blue-brand:#4da6ff; }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--fg);font-family:'Epilogue',sans-serif;line-height:1.6;
      cursor:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 100 100"><circle cx="50" cy="50" r="20" stroke="white" stroke-width="6" fill="none"/></svg>') 20 20, auto;
    }
    a{
      cursor:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 100 100"><circle cx="50" cy="50" r="20" stroke="white" stroke-width="6" fill="none"/></svg>') 20 20, auto;
    }
    .container{max-width:1024px;margin:0 auto;padding:0 20px}
    header{position:sticky;top:0;background:rgba(12,12,12,.85);backdrop-filter:blur(8px);border-bottom:1px solid var(--border);z-index:100}
    nav{display:flex;justify-content:space-between;align-items:center;padding:16px 0}
    .logo{font-family:'Playfair Display',serif;font-weight:700}
    .back a{color:var(--muted);text-decoration:none;border:1px solid var(--border);padding:8px 14px;border-radius:999px;background:#111}
    .back a:hover{background:var(--accent);color:#000;border-color:var(--accent)}
  /* Unified main spacing (matches content-automation) */
  main{padding:58px 0 40px}
  @media (max-width:680px){ main{padding:70px 0 40px;} }
    h1{font-family:'Playfair Display',serif;font-size:clamp(2rem,6vw,2.4rem);line-height:1.15;margin:10px 0 12px}
    .sub{color:var(--muted);margin:0 0 14px;line-height:1.68;max-width:900px}
    .hero-actions{display:flex;gap:10px;flex-wrap:wrap;margin:0 0 20px}
    .btn{font-size:.7rem;letter-spacing:.7px;text-transform:uppercase;border:1px solid var(--border);padding:8px 14px;border-radius:999px;background:#111;color:#bdbdbd;}
    .btn:hover{background:var(--accent);color:#000;border-color:var(--accent)}
    section{padding:26px 0;border-top:1px solid rgba(44,44,44,0.85)}
    h2{font-size:1.28rem;letter-spacing:.4px;margin:0 0 14px;color:#ffffff;font-weight:700}
    p{font-size:0.9rem;line-height:1.65;max-width:720px}
  ul{margin:0 0 12px 18px;font-size:0.9rem;line-height:1.6}
    li{margin:0 0 8px;max-width:720px}
  /* Small narrative bullet list utility */
  .mini-list{margin:6px 0 10px 18px; padding:0; list-style:disc; font-size:0.85rem; line-height:1.55; color:#c9c9c9; max-width:720px}
  /* Tag bubble styles (parity with content-automation) */
  .tags{display:flex;flex-wrap:wrap;gap:8px;margin:4px 0 2px;max-width:780px}
  .tag{padding:6px 10px;border-radius:999px;border:1px solid var(--border);color:#bdbdbd;font-size:.65rem;letter-spacing:.6px;text-transform:uppercase;background:#111;transition:.18s ease;cursor:pointer}
  .tag:hover{background:var(--accent);color:#000;border-color:var(--accent);transform:translateY(-1px)}
  .tag:focus-visible{outline:2px solid var(--accent);outline-offset:2px}
    .microhook-line{font-style:italic; font-size:0.9rem; line-height:1.58; margin:4px 0 20px; background:linear-gradient(90deg,var(--accent) 0%, var(--accent) 100%); -webkit-background-clip:text; background-clip:text; color:transparent; filter:drop-shadow(0 0 6px rgba(255,170,0,0.25)); font-weight:500; letter-spacing:.2px}
    h3{font-size:1rem;margin:20px 0 8px;color:#dcdcdc}
    .tech-detail{font-size:0.85rem;line-height:1.6;color:#c5c5c5;margin:8px 0 0;max-width:680px}
    .img-slot{margin:10px 0 4px; width:100%; aspect-ratio:16/9; border:1px dashed #3a3a3a; border-radius:12px; background:repeating-linear-gradient(45deg, rgba(255,255,255,0.03) 0 10px, rgba(255,255,255,0.01) 10px 20px); display:flex; align-items:center; justify-content:center; color:#8d8d8d; font-size:.8rem}
    footer{padding:16px 0;border-top:1px solid var(--border);text-align:center;color:var(--muted)}
  /* Diagnostics typography helpers */
  .diag-list{margin:6px 0 14px 22px; padding:0; font-size:0.8rem; line-height:1.52; color:#d0d0d0; max-width:760px}
  .diag-table{border-collapse:collapse;width:100%;font-size:0.74rem;letter-spacing:.2px}
  .diag-table caption{caption-side:top;text-align:left;font-size:0.62rem;color:var(--muted);padding:2px 0 6px;letter-spacing:.4px}
  .diag-table th,.diag-table td{padding:6px 8px;border:1px solid var(--border);text-align:left}
  .diag-table th{background:#111;font-weight:600;color:#ddd}
  .diag-footnote{margin:4px 0 0;font-size:0.62rem;color:#bcbcbc;letter-spacing:.3px}
  .diag-sublist{margin:4px 0 6px 18px; padding:0; list-style:disc; font-size:0.75rem; line-height:1.45; color:#c9c9c9}
  /* Consistent small muted paragraph */
  .small-muted{font-size:0.8rem;line-height:1.55;color:var(--muted);max-width:760px;margin:0 0 10px}
  /* Extra spacing before footer for bottom resource links */
  .bottom-repo{margin:6px 0 32px !important;}
  </style>
</head>
<body>
  <header>
    <div class="container">
      <nav>
        <div class="logo">Iván Seldas</div>
        <div class="back"><a href="../../index.html">Back to Portfolio</a></div>
      </nav>
    </div>
  </header>
  <main class="container">
    <h1>Clients Churn Prediction</h1>
    <p class="microhook-line" style="margin-top:2px;">Can you predict when a customer is about to churn?</p>
    <p class="sub">Acquiring a new customer is far more expensive than retaining one. This system helps you do exactly that by ranking the clients most at risk of churning.</p>
    <div class="tags" style="margin:4px 0 18px;">
      <a class="tag" href="https://github.com/ivanseldas/Clients-Churn-Predictor" target="_blank" rel="noopener" title="View source on GitHub">GitHub Repo</a>
    </div>

    <section id="solution">
      <h2>Solution</h2>
      <p class="sub" style="margin:0 0 12px; max-width:760px;">I developed a complete supervised machine learning pipeline — from data preprocessing to model evaluation and interpretability — to predict churn with high precision and recall. The solution integrates classification modeling, business impact simulation, and explainability tools.</p>
      <p class="tech-detail" style="margin-top:0; font-weight:600;">Precision‑first churn modeling with real‑world impact: up to <strong>5.8× uplift in retention</strong> vs. random campaigns.</p>
    </section>

    <section id="workflow">
      <h2>How It Works</h2>
      <ol style="margin:0 0 8px 18px; padding:0; font-size:0.9rem; line-height:1.6; max-width:780px;">
        <li><strong>Data Preprocessing</strong>
          <ul class="mini-list">
            <li>Cleaned & transformed <strong>5K customer records</strong> (null resolution, type standardisation, leakage removal).</li>
            <li>Scaled numeric features; encoded categoricals (one‑hot / binary) → compact, sparse‑aware matrix.</li>
            <li><strong>Class imbalance:</strong> churn only <strong>14%</strong>. Used stratified splits & kept natural ratios (no naive oversampling) to preserve probability calibration.</li>
          </ul>
          <figure style="margin:8px 0 12px;">
            <img loading="lazy" src="../../assets/images/projects/churn/class_imbalance.png" alt="Class imbalance: 14% churn vs 86% non-churn" style="width:100%;max-width:760px;border:1px solid var(--border);border-radius:10px;display:block;background:#111;">
            <figcaption style="font-size:0.65rem;letter-spacing:.5px;color:var(--muted);margin-top:4px;">Minority churn class at 14% handled through stratified splitting + calibrated thresholds.</figcaption>
          </figure>
        </li>
        <li><strong>Model Training &amp; Evaluation</strong>
          <ul class="mini-list">
            <li>Benchmarked Logistic Regression, Random Forest & XGBoost on identical stratified folds (precision, recall, ROC‑AUC, F1).</li>
            <li><strong>XGBoost</strong> led consistently (ROC‑AUC <strong>0.928</strong>, Precision <strong>0.94</strong>, F1 <strong>0.848</strong>) while preserving recall.</li>
          </ul>
          <figure style="margin:4px 0 10px;">
            <img loading="lazy" src="../../assets/images/projects/churn/model_comparison.png" alt="Model comparison: Logistic Regression vs Random Forest vs XGBoost" style="width:100%;max-width:760px;border:1px solid var(--border);border-radius:10px;display:block;background:#111;">
            <figcaption style="font-size:0.65rem;letter-spacing:.5px;color:var(--muted);margin-top:4px;">XGBoost outperforms on ROC‑AUC & F1 with strong precision.</figcaption>
          </figure>
          <div style="max-width:780px;overflow-x:auto;margin:0 0 14px;">
            <table style="border-collapse:collapse;width:100%;font-size:0.7rem;letter-spacing:.3px;">
              <caption style="text-align:left;font-size:0.62rem;color:var(--muted);padding:4px 2px 6px;caption-side:top;">Validation metrics (identical stratified folds)</caption>
              <thead>
                <tr style="background:#111;">
                  <th style="padding:6px 8px;border:1px solid var(--border);">Metric</th>
                  <th style="padding:6px 8px;border:1px solid var(--border);">LogReg</th>
                  <th style="padding:6px 8px;border:1px solid var(--border);">RandomForest</th>
                  <th style="padding:6px 8px;border:1px solid var(--border);">XGBoost</th>
                </tr>
              </thead>
              <tbody>
                <tr><td style="padding:6px 8px;border:1px solid var(--border);">Accuracy</td><td style="padding:6px 8px;border:1px solid var(--border);">0.8710</td><td style="padding:6px 8px;border:1px solid var(--border);">0.9560</td><td style="padding:6px 8px;border:1px solid var(--border);">0.9590</td></tr>
                <tr><td style="padding:6px 8px;border:1px solid var(--border);">Precision</td><td style="padding:6px 8px;border:1px solid var(--border);">0.6304</td><td style="padding:6px 8px;border:1px solid var(--border);">0.9217</td><td style="padding:6px 8px;border:1px solid var(--border);">0.9167</td></tr>
                <tr><td style="padding:6px 8px;border:1px solid var(--border);">Recall</td><td style="padding:6px 8px;border:1px solid var(--border);">0.2057</td><td style="padding:6px 8px;border:1px solid var(--border);">0.7518</td><td style="padding:6px 8px;border:1px solid var(--border);">0.7801</td></tr>
                <tr><td style="padding:6px 8px;border:1px solid var(--border);">F1-score</td><td style="padding:6px 8px;border:1px solid var(--border);">0.3102</td><td style="padding:6px 8px;border:1px solid var(--border);">0.8281</td><td style="padding:6px 8px;border:1px solid var(--border);">0.8429</td></tr>
                <tr><td style="padding:6px 8px;border:1px solid var(--border);">ROC-AUC</td><td style="padding:6px 8px;border:1px solid var(--border);">0.8257</td><td style="padding:6px 8px;border:1px solid var(--border);">0.9049</td><td style="padding:6px 8px;border:1px solid var(--border);">0.9215</td></tr>
              </tbody>
            </table>
          </div>
        </li>
        <li><strong>Hyperparameter Tuning</strong>
          <ul class="mini-list">
            <li>Iterative tuning of tree depth, learning rate & regularisation (target: lift precision & AUC without harming recall).</li>
            <li>Result: precision +0.023 with stable recall (‑0.007) and modest gains in AUC & F1.</li>
          </ul>
          <div style="max-width:780px;overflow-x:auto;margin:2px 0 10px;">
            <table style="border-collapse:collapse;width:100%;font-size:0.7rem;letter-spacing:.3px;">
              <caption style="text-align:left;font-size:0.62rem;color:var(--muted);padding:2px 0 6px;caption-side:top;">Untuned vs Tuned XGBoost</caption>
              <thead>
                <tr style="background:#111;">
                  <th style="padding:6px 8px;border:1px solid var(--border);">Metric</th>
                  <th style="padding:6px 8px;border:1px solid var(--border);">Untuned</th>
                  <th style="padding:6px 8px;border:1px solid var(--border);">Tuned</th>
                  <th style="padding:6px 8px;border:1px solid var(--border);">Δ</th>
                </tr>
              </thead>
              <tbody>
                <tr><td style="padding:6px 8px;border:1px solid var(--border);">Accuracy</td><td style="padding:6px 8px;border:1px solid var(--border);">0.9590</td><td style="padding:6px 8px;border:1px solid var(--border);">0.9610</td><td style="padding:6px 8px;border:1px solid var(--border);">+0.0020</td></tr>
                <tr><td style="padding:6px 8px;border:1px solid var(--border);">Precision</td><td style="padding:6px 8px;border:1px solid var(--border);">0.9167</td><td style="padding:6px 8px;border:1px solid var(--border);">0.9397</td><td style="padding:6px 8px;border:1px solid var(--border);">+0.0230</td></tr>
                <tr><td style="padding:6px 8px;border:1px solid var(--border);">Recall</td><td style="padding:6px 8px;border:1px solid var(--border);">0.7801</td><td style="padding:6px 8px;border:1px solid var(--border);">0.7730</td><td style="padding:6px 8px;border:1px solid var(--border);">-0.0071</td></tr>
                <tr><td style="padding:6px 8px;border:1px solid var(--border);">F1-score</td><td style="padding:6px 8px;border:1px solid var(--border);">0.8429</td><td style="padding:6px 8px;border:1px solid var(--border);">0.8482</td><td style="padding:6px 8px;border:1px solid var(--border);">+0.0053</td></tr>
                <tr><td style="padding:6px 8px;border:1px solid var(--border);">ROC-AUC</td><td style="padding:6px 8px;border:1px solid var(--border);">0.9215</td><td style="padding:6px 8px;border:1px solid var(--border);">0.9281</td><td style="padding:6px 8px;border:1px solid var(--border);">+0.0066</td></tr>
              </tbody>
            </table>
          </div>
        </li>
        <li><strong>Overfitting</strong>
          <div style="max-width:780px;">
            <p class="tech-detail" style="margin-top:4px;">Three diagnostics run before locking the regularised production configuration.</p>
            <ol class="diag-list">
              <li><strong>Train vs Test Metrics</strong> – large drops on test indicate overfitting.
                <div style="max-width:760px;overflow-x:auto;margin:6px 0 6px;">
                  <table class="diag-table">
                    <caption>Pre‑regularisation: train vs test performance (high‑capacity tuned)</caption>
                    <thead>
                      <tr>
                        <th>Metric</th><th>Train</th><th>Test</th><th>Gap</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr><td>Accuracy</td><td>0.9802</td><td>0.9610</td><td>0.0192</td></tr>
                      <tr><td>Precision</td><td>0.9959</td><td>0.9397</td><td>0.0563</td></tr>
                      <tr><td>Recall</td><td>0.8640</td><td>0.7730</td><td>0.0909</td></tr>
                      <tr><td>F1</td><td>0.9253</td><td>0.8482</td><td>0.0770</td></tr>
                      <tr><td>ROC‑AUC</td><td>0.9956</td><td>0.9281</td><td>0.0675</td></tr>
                    </tbody>
                  </table>
                  <p class="diag-footnote">Max absolute gap 0.0909 (Recall) → notable overfitting risk.</p>
                </div>
              </li>
              <li><strong>K‑Fold Cross Validation (5‑fold stratified)</strong> – instability surfaced via mean gaps.
                <div style="max-width:760px;overflow-x:auto;margin:6px 0 6px;">
                  <table class="diag-table">
                    <caption>Pre‑regularisation: train vs CV means</caption>
                    <thead>
                      <tr>
                        <th>Metric</th><th>Train Mean</th><th>CV Mean</th><th>Gap Mean</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr><td>ROC‑AUC</td><td>0.9974</td><td>0.9250</td><td>0.0724</td></tr>
                      <tr><td>Precision</td><td>0.9980</td><td>0.9308</td><td>0.0671</td></tr>
                      <tr><td>Recall</td><td>0.8710</td><td>0.7545</td><td>0.1165</td></tr>
                    </tbody>
                  </table>
                  <p class="diag-footnote">Largest mean gap 0.1165 (Recall) → capacity reduction & regularisation required.</p>
                </div>
              </li>
              <li><strong>Learning Curve (ROC‑AUC)</strong> – widening stable gap (train near 1.0, validation lower & flat) confirms model capacity > signal.
                <figure style="margin:6px 0 4px;">
                  <img loading="lazy" src="../../assets/images/projects/churn/learning_curve.png" alt="Learning curve ROC-AUC: train saturates near 1.0, validation plateaus lower indicating overfitting" style="width:100%;max-width:760px;border:1px solid var(--border);border-radius:10px;display:block;background:#111;">
                  <figcaption style="font-size:0.58rem;letter-spacing:.4px;color:#bcbcbc;margin-top:4px;">Train 0.9974 vs Validation 0.9250 (gap 0.0724) prior to regularisation.</figcaption>
                </figure>
              </li>
            </ol>
            <p class="small-muted" style="margin:4px 0 4px;">Consistent multi‑metric gaps (&gt;0.05) – especially recall & ROC‑AUC – showed the model was partially memorising minority churn patterns; this motivated the regularisation applied in the next step.</p>
          </div>
        </li>
        <li><strong>Regularization &amp; Final Model</strong>
          <ul class="mini-list" style="margin-top:4px;">
            <li>Applied depth/weight limits + subsampling + L1/L2 (<code>max_depth=3</code>, <code>min_child_weight=3</code>, <code>subsample=0.7</code>, <code>colsample_bytree=0.7</code>, <code>reg_alpha=1.0</code>, <code>reg_lambda=5.0</code>, <code>learning_rate=0.07</code>, early stopping ~200 trees).</li>
          </ul>
          <div style="max-width:760px;overflow-x:auto;margin:4px 0 6px;">
            <table class="diag-table">
              <caption>Final regularised model (train vs test)</caption>
              <thead><tr><th>Metric</th><th>Train</th><th>Test</th><th>Gap</th></tr></thead>
              <tbody>
                <tr><td>Accuracy</td><td>0.9710</td><td>0.9550</td><td>0.0160</td></tr>
                <tr><td>Precision</td><td>0.9828</td><td>0.9138</td><td>0.0690</td></tr>
                <tr><td>Recall</td><td>0.8092</td><td>0.7518</td><td>0.0574</td></tr>
                <tr><td>F1</td><td>0.8876</td><td>0.8249</td><td>0.0627</td></tr>
                <tr><td>ROC‑AUC</td><td>0.9560</td><td>0.9205</td><td>0.0355</td></tr>
              </tbody>
            </table>
            <p class="diag-footnote">Max gap 0.0690 (was 0.0909). Recall 0.0909 → 0.0574; ROC‑AUC 0.0675 → 0.0355.</p>
          </div>
          <ul class="mini-list" style="margin-top:4px;">
            <li>Reduced gaps (max 0.091 → 0.069) lowers overfitting risk; model ready for production scoring & churn‑risk ranking.</li>
          </ul>
        </li>
        <li><strong>Key Metrics</strong>
          <div style="max-width:760px;overflow-x:auto;margin:4px 0 6px;">
            <table class="diag-table">
              <caption>Key Metrics (Final Regularised Model)</caption>
              <thead><tr><th>Metric</th><th>Value</th><th>Description</th></tr></thead>
              <tbody>
                <tr><td>Accuracy</td><td>0.955</td><td>Overall correct predictions</td></tr>
                <tr><td>Precision</td><td>0.914</td><td>% of predicted churners who actually churned</td></tr>
                <tr><td>Recall</td><td>0.752</td><td>% of actual churners correctly identified</td></tr>
                <tr><td>F1-score</td><td>0.825</td><td>Balance between precision and recall</td></tr>
                <tr><td>ROC-AUC</td><td>0.921</td><td>Discrimination ability across thresholds</td></tr>
              </tbody>
            </table>
          </div>
          <ul class="mini-list" style="margin-top:4px;">
            <li>Balanced precision & recall with strong AUC enables confident high‑risk ranking without overwhelming retention capacity.</li>
          </ul>
        </li>
      </ol>
    </section>

    <section id="key-insights">
      <h2>Key Insights</h2>
      <h3 style="margin-top:0;">Top Features Driving Churn</h3>
      <ul class="mini-list" style="margin-top:4px;">
        <li><strong>Number of customer service calls</strong> (dissatisfaction proxy)</li>
        <li><strong>International plan status</strong> (misaligned pricing / usage)</li>
        <li><strong>Daytime call volume & charge</strong> (usage intensity patterns)</li>
        <li><strong>International call frequency & charge</strong> (cost sensitivity)</li>
        <li><strong>Voicemail plan engagement</strong> (reduced stickiness when absent)</li>
      </ul>
      <figure style="margin:8px 0 14px;">
        <img loading="lazy" src="../../assets/images/projects/churn/feature_importance.png" alt="Feature importance bar chart highlighting service calls, international plan, daytime usage, international usage, voicemail plan" style="width:100%;max-width:760px;border:1px dashed var(--border);border-radius:10px;display:block;background:#111;">
        <figcaption style="font-size:0.6rem;letter-spacing:.45px;color:#9d9d9d;margin-top:4px;">Feature importance (placeholder) – ranked drivers of predicted churn probability.</figcaption>
      </figure>
      <h3 style="margin-top:4px;">Strategic Recommendations</h3>
      <ul class="mini-list" style="margin-top:4px;">
        <li>Repackage international plans for high‑risk segments.</li>
        <li>Proactively engage customers with frequent support tickets.</li>
        <li>Offer usage‑based plan customisation.</li>
        <li>Deploy retention incentives for high international users.</li>
        <li>Strengthen product stickiness via feature activation campaigns.</li>
      </ul>
    </section>

  <section id="business-impact">
      <h2>Business Impact (Targeted Outreach Simulation)</h2>
  <p class="small-muted" style="margin:0 0 10px;">A simulation was conducted to compare the impact of targeting the top 500 high-risk customers ranked by the model, versus contacting 500 customers at random:</p>
      <div style="max-width:760px;overflow-x:auto;margin:0 0 12px;">
        <table class="diag-table">
          <thead>
            <tr><th>Scenario</th><th>Contacts</th><th>Actual Churners Reached</th><th>Estimated Saves (30%)</th><th>Retention Uplift</th></tr>
          </thead>
          <tbody>
            <tr><td>Random Targeting</td><td>500</td><td>~71</td><td>~21</td><td>1.0×</td></tr>
            <tr><td>Model-Based Targeting</td><td>500</td><td>485</td><td>~145</td><td>5.8×</td></tr>
          </tbody>
        </table>
      </div>
  <p class="small-muted" style="margin:0 0 6px;">Churn reduction: ~20% projected reduction when targeting the top 500 customers with retention actions, compared to ~3% from random outreach.</p>
  <p class="small-muted" style="margin:0 0 4px;">Financial angle: Assuming a $240 annual margin per retained customer, this represents ~$10K protected ARR per 500-contact cycle.</p>
    </section>

  <div class="tags bottom-repo">
      <a class="tag" href="https://github.com/ivanseldas/Clients-Churn-Predictor" target="_blank" rel="noopener" title="View source on GitHub">GitHub Repo</a>
    </div>
  </main>
  <footer>
    <div class="container">© <span id="year"></span> Iván Seldas</div>
  </footer>
  <script>
    const y=document.getElementById('year'); if(y) y.textContent=new Date().getFullYear();
  </script>
</body>
</html>
